import{a as Q}from"./chunk-Y2LNA2BJ.js";import{Ba as V,Ca as A,Da as F,E as _,Ea as j,F as y,G as E,H as I,Ia as T,Ka as k,M as r,N as d,T as b,V as m,X as a,Y as n,Z as D,aa as M,ba as O,ca as s,d as H,da as B,ea as w,fa as P,ha as i,ja as u,oa as S,qa as C,ra as g,u as v,ua as R,x,z as h}from"./chunk-76TGF6CF.js";var z=H(Q());var l=class o{constructor(t){this.http=t}getCouponById(t){return this.http.get(`/coupons/${t}`)}static \u0275fac=function(e){return new(e||o)(x(j))};static \u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"})};var q=["barcode"];function G(o,t){if(o&1){let e=M();a(0,"div")(1,"p",3),O("click",function(){_(e);let p=s();return y(p.goToEditPage())}),i(2,"\uC218\uC815"),n(),a(3,"p")(4,"strong"),i(5,"\uC774\uB984:"),n(),i(6),n(),a(7,"p")(8,"strong"),i(9,"\uBC14\uCF54\uB4DC:"),n()(),E(),D(10,"svg",null,0),I(),a(12,"p")(13,"strong"),i(14,"\uBA54\uBAA8:"),n(),i(15),n(),a(16,"p")(17,"strong"),i(18,"\uC0DD\uC131\uC77C:"),n(),i(19),C(20,"date"),n(),a(21,"p")(22,"strong"),i(23,"\uC218\uC815\uC77C:"),n(),i(24),C(25,"date"),n()()}if(o&2){let e=s();r(6),u(" ",e.coupon.name,""),r(9),u(" ",e.coupon.memo,""),r(4),u(" ",g(20,4,e.coupon.createdAt,"yyyy-MM-dd"),""),r(5),u(" ",g(25,7,e.coupon.updatedAt,"yyyy-MM-dd"),"")}}function J(o,t){o&1&&(a(0,"div")(1,"p"),i(2,"\uCFE0\uD3F0 \uC815\uBCF4\uB97C \uBD88\uB7EC\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),n()())}var f=class o{constructor(t,e,c,p){this.route=t;this.couponDetailService=e;this.router=c;this.cdr=p}coupon;barcodeElement;isViewInitialized=!1;ngOnInit(){let t=+this.route.snapshot.paramMap.get("id");this.loadCoupon(t)}ngAfterViewInit(){this.isViewInitialized=!0,this.cdr.detectChanges()}loadCoupon(t){this.couponDetailService.getCouponById(t).subscribe(e=>{this.coupon=e.data,this.isViewInitialized&&this.coupon?.barcode&&(this.cdr.detectChanges(),this.generateBarcode(String(this.coupon.barcode)))})}generateBarcode(t){this.barcodeElement?.nativeElement&&(0,z.default)(this.barcodeElement.nativeElement,t,{format:"CODE128",width:2,height:50,displayValue:!0})}goToEditPage(){this.router.navigate([`/coupons/edit/${this.coupon.id}`])}static \u0275fac=function(e){return new(e||o)(d(T),d(l),d(k),d(R))};static \u0275cmp=h({type:o,selectors:[["app-coupon-detail"]],viewQuery:function(e,c){if(e&1&&B(q,5),e&2){let p;w(p=P())&&(c.barcodeElement=p.first)}},standalone:!0,features:[S],decls:5,vars:2,consts:[["barcode",""],[1,"coupon-detail-container"],[4,"ngIf"],[3,"click"]],template:function(e,c){e&1&&(a(0,"div",1)(1,"h1"),i(2,"\uCFE0\uD3F0 \uC0C1\uC138 \uC815\uBCF4"),n(),b(3,G,26,10,"div",2)(4,J,3,0,"div",2),n()),e&2&&(r(3),m("ngIf",c.coupon),r(),m("ngIf",!c.coupon))},dependencies:[F,V,A],styles:[".coupon-detail-container[_ngcontent-%COMP%]{width:80%;max-width:600px;margin:40px auto;padding:20px;border-radius:8px;box-shadow:0 4px 10px #0000001a;background-color:#f9f9f9}.coupon-detail-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#333;text-align:center;margin-bottom:20px}.coupon-detail-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:8px 0;color:#555}.coupon-detail-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;font-weight:600}.coupon-detail-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-top:10px;display:block;margin-left:auto;margin-right:auto}.coupon-detail-container[_ngcontent-%COMP%]   .barcode[_ngcontent-%COMP%]{margin:10px 0}.coupon-detail-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-child){border-top:1px solid #ddd;padding-top:10px}.coupon-detail-container[_ngcontent-%COMP%]   .no-coupon[_ngcontent-%COMP%]{text-align:center;color:#888;font-style:italic;margin-top:20px}"]})};export{f as default};
