import{a as W,c as N,d as z,f as R,h as T,i as j,l as q,m as H}from"./chunk-R7JGWKRF.js";import{a as G}from"./chunk-Y2LNA2BJ.js";import{Da as B,E as c,Ea as k,F as u,G as w,H as x,Ka as D,M as m,N as b,V as O,X as i,Y as a,Z as S,aa as P,ba as _,d as Q,da as A,ea as E,fa as V,ga as F,ha as p,ka as s,la as g,ma as f,oa as I,u as h,x as y,z as v}from"./chunk-76TGF6CF.js";var L=Q(G());var C=class d{constructor(n){this.http=n}addCoupon(n){return this.http.post("/coupons",n)}static \u0275fac=function(t){return new(t||d)(y(k))};static \u0275prov=h({token:d,factory:d.\u0275fac,providedIn:"root"})};var K=["barcode"],M=class d{constructor(n,t){this.couponAddService=n;this.router=t}coupon={userId:0,name:"",barcode:"",memo:""};barcodeElement;ngOnInit(){this.coupon.userId=Number(localStorage.getItem("userId"))}onSubmit(){this.couponAddService.addCoupon(this.coupon).subscribe(n=>{this.router.navigate(["/coupons"])},n=>{console.error("\uCFE0\uD3F0 \uCD94\uAC00 \uC2E4\uD328:",n)})}generateBarcode(n){this.barcodeElement?.nativeElement&&n&&(0,L.default)(this.barcodeElement.nativeElement,n,{format:"CODE128",width:2,height:50,displayValue:!0})}static \u0275fac=function(t){return new(t||d)(b(C),b(D))};static \u0275cmp=v({type:d,selectors:[["app-coupon-add"]],viewQuery:function(t,e){if(t&1&&A(K,5),t&2){let r;E(r=V())&&(e.barcodeElement=r.first)}},standalone:!0,features:[I],decls:21,vars:4,consts:[["couponForm","ngForm"],["barcode",""],[1,"coupon-add-container"],[3,"ngSubmit"],["for","name"],["id","name","type","text","name","name","required","",3,"ngModelChange","ngModel"],["for","barcode"],["id","barcode","type","text","name","barcode","required","",3,"ngModelChange","ngModel"],["for","memo"],["id","memo","name","memo",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"]],template:function(t,e){if(t&1){let r=P();i(0,"div",2)(1,"h1"),p(2,"\uCFE0\uD3F0 \uCD94\uAC00"),a(),i(3,"form",3,0),_("ngSubmit",function(){return c(r),u(e.onSubmit())}),i(5,"div")(6,"label",4),p(7,"\uC774\uB984"),a(),i(8,"input",5),f("ngModelChange",function(o){return c(r),g(e.coupon.name,o)||(e.coupon.name=o),u(o)}),a()(),i(9,"div")(10,"label",6),p(11,"\uBC14\uCF54\uB4DC"),a(),i(12,"input",7),f("ngModelChange",function(o){return c(r),g(e.coupon.barcode,o)||(e.coupon.barcode=o),u(o)}),_("ngModelChange",function(){return c(r),u(e.generateBarcode(e.coupon.barcode))}),a(),w(),S(13,"svg",null,1),a(),x(),i(15,"div")(16,"label",8),p(17,"\uBA54\uBAA8"),a(),i(18,"textarea",9),f("ngModelChange",function(o){return c(r),g(e.coupon.memo,o)||(e.coupon.memo=o),u(o)}),a()(),i(19,"button",10),p(20,"\uCFE0\uD3F0 \uCD94\uAC00"),a()()()}if(t&2){let r=F(4);m(8),s("ngModel",e.coupon.name),m(4),s("ngModel",e.coupon.barcode),m(6),s("ngModel",e.coupon.memo),m(),O("disabled",r.invalid)}},dependencies:[B,H,j,W,N,z,q,T,R],styles:["body[_ngcontent-%COMP%]{background:#f4f7fa;margin:0;padding:0}.coupon-add-container[_ngcontent-%COMP%]{width:80%;max-width:600px;margin:50px auto;padding:30px;background:linear-gradient(145deg,#fff,#f2f2f2);border-radius:15px;box-shadow:0 4px 20px #0000001a;transition:transform .3s ease-in-out}.coupon-add-container[_ngcontent-%COMP%]:hover{transform:scale(1.02)}h1[_ngcontent-%COMP%]{font-size:24px;color:#333;text-align:center;margin-bottom:20px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}label[_ngcontent-%COMP%]{font-size:1.1rem;color:#555;font-weight:600}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:12px;font-size:1rem;border:2px solid #ddd;border-radius:10px;width:100%;box-sizing:border-box;background-color:#fafafa;transition:border-color .3s ease,background-color .3s ease}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#ff9aa7;background-color:#fff;outline:none}button[_ngcontent-%COMP%]{padding:14px;font-size:1.1rem;color:#fff;background-color:#ff9aa7;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease,transform .2s ease-in-out;font-weight:600}button[_ngcontent-%COMP%]:hover{background-color:#ff7b8d;transform:translateY(-2px)}button[_ngcontent-%COMP%]:active{transform:translateY(1px)}textarea[_ngcontent-%COMP%]{min-height:120px;resize:vertical}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.9rem;text-align:center;margin-top:10px}.coupon-add-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-top:10px;display:block;margin-left:auto;margin-right:auto}.coupon-add-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#ff9aa7}"]})};export{M as default};
